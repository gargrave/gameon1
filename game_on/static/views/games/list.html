<div ng-init="ctrl.find()">
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">

      <div class="page-header">
        <h3>Games</h3>
      </div>

    </div>
  </div><!-- /row -->

  <div class="row">
    <div class="col-sm-7"></div>
    <div class="col-sm-3 col-sm-offset-1">

      <div class="input-group">
        <span class="input-group-addon">
          <span class="glyphicon glyphicon-search"></span>
        </span>
        <input type="text" class="form-control" placeholder="Search..." ng-model="ctrl.filterText">
      </div>
    </div>
  </div><!-- /row -->
  <br>

  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">

      <!-- error message display -->
      <div class="alert alert-danger" role="alert" ng-show="ctrl.error" ng-cloak>
        <span ng-bind="ctrl.error"></span>
      </div>

      <div class="table-responsive" ng-hide="ctrl.working" ng-cloak>
        <table class="table table-hover">
          <thead>
          <tr>
            <th>
              <a href="" ng-click="ctrl.setSortText('name')">Title</a>
            </th>
            <th class="text-center">
              <a href="" ng-click="ctrl.setSortText('startDate')">Start date</a>
            </th>
            <th class="text-center">
              <a href="" ng-click="ctrl.setSortText('endDate')">End date</a>
            </th>
            <th class="text-right">Enjoyed for</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="game in ctrl.entries | orderBy: ctrl.sortText | filter: ctrl.filterText"
              ui-sref="games-detail({id: game.id})">
            <!-- title -->
            <td ng-bind="game.name"></td>
            <!-- start date -->
            <td class="text-center" ng-bind="game.startDate  | date:'shortDate'"></td>
            <!-- end date -->
            <td class="text-center" ng-bind="game.endDate  | date:'shortDate'"></td>
            <!-- length played display -->
            <td class="text-right" ng-bind="game.startDate | daysFilter:game.endDate"></td>
          </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div><!-- /row -->
</div>
